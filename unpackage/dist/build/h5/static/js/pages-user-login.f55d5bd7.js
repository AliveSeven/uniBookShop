(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"07ad":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.wrap[data-v-7a7f85b0]{font-size:%?28?%;overflow:hidden}.wrap .content[data-v-7a7f85b0]{width:%?600?%;margin:%?80?% auto 0}.wrap .content .title[data-v-7a7f85b0]{text-align:left;font-size:%?60?%;font-weight:500;margin-bottom:%?100?%}.wrap .content uni-input[data-v-7a7f85b0]{text-align:left;margin-bottom:%?10?%;padding-bottom:%?6?%}.wrap .content .tips[data-v-7a7f85b0]{font-size:%?20?%;color:#fa3534;margin-top:%?4?%}.wrap .content .getCaptcha[data-v-7a7f85b0]{background-color:#a2b8ff;color:#909399;border:none;font-size:%?30?%;padding:%?12?% 0}.wrap .content .getCaptcha[data-v-7a7f85b0]::after{border:none}.wrap .content .alternative[data-v-7a7f85b0]{color:#909399;display:flex;justify-content:space-between;margin-top:%?30?%}.wrap .buttom .loginType[data-v-7a7f85b0]{display:flex;padding:%?350?% %?150?% 0 %?150?%;justify-content:space-between}.wrap .buttom .loginType .item[data-v-7a7f85b0]{display:flex;flex-direction:column;align-items:center;color:#606266;font-size:%?28?%}',""]),t.exports=e},"4f95":function(t,e,a){"use strict";a.r(e);var i=a("8a53"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8a53":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=i(a("1da1")),s={data:function(){return{email:"",password:"",isShowTip:!1,submitBtn:!1,isFocus:!1}},onLoad:function(t){var e=t.email,a=t.password;this.email=e,this.password=a},computed:{inputStyle:function(){var t={};return this.email&&(this.isShowTip=!0),this.$u.test.email(this.email)&&(this.isShowTip=!1),this.$u.test.email(this.email)&&this.password&&(t.color="#fff",t.backgroundColor=this.$u.color["primary"]),t}},methods:{login:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitBtn=!0,e.prev=1,a={email:t.email,password:t.password},e.next=5,t.$u.api.authLogin(a);case 5:i=e.sent,t.submitBtn=!1,t.$u.vuex("vuex_token",i.access_token),t.$u.utils.setUserInfo(),uni.showToast({title:"登录成功"}),setTimeout((function(){var e=uni.getStorage("currentRoute")||"/pages/index/index";t.$u.route({type:"reLaunch",url:e})})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),t.submitBtn=!1;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()},nextFocus:function(){var t=this;this.$u.test.email(this.email)?this.$nextTick((function(){t.isFocus=!0})):this.isShowTip=!0},submit:function(){if(!this.$u.test.email(this.email)||!this.password)return!1;this.login()},jump:function(t){this.$u.route(t)}}};e.default=s},"8b66":function(t,e,a){var i=a("07ad");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("af089964",i,!0,{sourceMap:!1,shadowMode:!1})},ca99:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wrap"},[a("v-uni-view",{staticClass:"top"}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title"},[t._v("欢迎登入图书商城")]),a("v-uni-view",{staticClass:" u-m-b-40"},[a("v-uni-input",{staticClass:"u-border-bottom",attrs:{placeholder:"请输入邮箱","confirm-type":"next"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.nextFocus.apply(void 0,arguments)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowTip,expression:"isShowTip"}],staticClass:"tips"},[t._v("请输入正确的邮箱号")])],1),a("v-uni-input",{staticClass:"u-border-bottom u-m-b-40",attrs:{type:"password",placeholder:"请输入密码",focus:t.isFocus,"confirm-type":"done"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-uni-button",{staticClass:"getCaptcha",style:[t.inputStyle],attrs:{loading:t.submitBtn,disabled:t.submitBtn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("登录")]),a("v-uni-view",{staticClass:"alternative"},[a("v-uni-view",{staticClass:"issue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jump("pages/user/register")}}},[t._v("注册")])],1)],1)],1)},s=[]},e074:function(t,e,a){"use strict";a.r(e);var i=a("ca99"),n=a("4f95");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f7dc");var o,r=a("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"7a7f85b0",null,!1,i["a"],o);e["default"]=u.exports},f7dc:function(t,e,a){"use strict";var i=a("8b66"),n=a.n(i);n.a}}]);